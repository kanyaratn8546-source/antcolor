<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏™‡∏µ‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå - @‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Kanit', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }

        /* Yellow to Purple Gradient Classes (17 steps) */
        .c1 { color: #FFD54F; } .c2 { color: #FFC107; } .c3 { color: #FFB300; }
        .c4 { color: #FFA000; } .c5 { color: #FB8C00; } .c6 { color: #EF6C00; }
        .c7 { color: #F4511E; } .c8 { color: #FF7043; } .c9 { color: #FF5252; }
        .c10 { color: #EC407A; } .c11 { color: #F06292; } .c12 { color: #E91E63; }
        .c13 { color: #D81B60; } .c14 { color: #9637D2; } .c15 { color: #802DBE; }
        .c16 { color: #601EA0; } .c17 { color: #4A148C; }

        .swatch { 
            width: 32px; 
            height: 32px; 
            border-radius: 10px; 
            display: inline-block; 
            vertical-align: middle; 
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            border: 2px solid white;
        }

        .tab-content { display: none; }
        .tab-content.active { display: block; animation: slideUp 0.4s ease-out; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .spray-badge {
            font-family: monospace;
            background: #e2e8f0;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            color: #475569;
        }

        /* Camera UI */
        #camera-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            aspect-ratio: 1/1;
            margin: 0 auto;
            border-radius: 40px;
            overflow: hidden;
            background: #000;
            border: 8px solid white;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }
        #video-feed { width: 100%; height: 100%; object-fit: cover; }
        #reticle {
            position: absolute;
            top: 50%; left: 50%;
            width: 60px; height: 60px;
            border: 4px solid #fff;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            box-shadow: 0 0 0 1000px rgba(0,0,0,0.5);
        }
        #reticle::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            width: 8px; height: 8px;
            background: #ff3b30;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">
        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-6xl font-bold mb-2 tracking-tight">
                <span class="c1">@</span><span class="c2">‡πÄ</span><span class="c3">‡∏ó</span><span class="c4">‡∏Ñ</span><span class="c5">‡∏ô</span><span class="c6">‡∏¥</span><span class="c7">‡∏Ñ</span><span class="c8">‡∏≠</span><span class="c9">‡∏≥</span><span class="c10">‡∏ô</span><span class="c11">‡∏≤</span><span class="c12">‡∏à</span><span class="c13">‡πÄ</span><span class="c14">‡∏à</span><span class="c15">‡∏£</span><span class="c16">‡∏¥</span><span class="c17">‡∏ç</span>
            </h1>
            <p class="text-slate-500 text-[10px] uppercase tracking-[0.2em]">Spray Paint Calibration & Technique Guide</p>
        </header>

        <!-- Main Nav -->
        <nav class="flex flex-wrap justify-center gap-2 mb-8">
            <button onclick="showTab('info')" class="nav-btn px-4 py-2 rounded-xl bg-white shadow-sm font-bold text-[10px] border-2 border-transparent transition-all">üõí 1. ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏µ</button>
            <button onclick="showTab('y-group')" class="nav-btn px-4 py-2 rounded-xl bg-white shadow-sm font-bold text-[10px] border-2 border-transparent transition-all">üü° 2. ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á-‡∏™‡πâ‡∏°</button>
            <button onclick="showTab('r-group')" class="nav-btn px-4 py-2 rounded-xl bg-white shadow-sm font-bold text-[10px] border-2 border-transparent transition-all">üî¥ 3. ‡∏ä‡∏°‡∏û‡∏π-‡πÅ‡∏î‡∏á</button>
            <button onclick="showTab('p-group')" class="nav-btn px-4 py-2 rounded-xl bg-white shadow-sm font-bold text-[10px] border-2 border-transparent transition-all">üü£ 4. ‡∏°‡πà‡∏ß‡∏á</button>
            <button onclick="showTab('guide')" class="nav-btn px-4 py-2 rounded-xl bg-white shadow-sm font-bold text-[10px] border-2 border-transparent transition-all">üé® 5. ‡∏ß‡∏¥‡∏ò‡∏µ‡∏û‡πà‡∏ô‡∏™‡∏µ</button>
            <button onclick="startScanner()" class="nav-btn px-4 py-2 rounded-xl bg-blue-600 text-white shadow-md font-bold text-[10px] active:scale-95 transition-all">üì∑ ‡∏™‡πÅ‡∏Å‡∏ô‡∏™‡∏µ</button>
        </nav>

        <!-- Tab: Info & Shopping List -->
        <div id="info" class="tab-content active space-y-4">
            <!-- New: Showcase Frame -->
            <div class="relative group">
                <div class="absolute -inset-1 bg-gradient-to-r from-yellow-400 via-red-500 to-purple-600 rounded-[2rem] blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
                <div class="relative bg-white/40 backdrop-blur-xl border border-white/40 p-3 rounded-[2rem] shadow-2xl overflow-hidden">
                    <div class="absolute top-0 right-0 p-4">
                        <span class="bg-white/50 backdrop-blur-md text-[9px] font-bold px-3 py-1 rounded-full shadow-sm text-slate-600 uppercase tracking-widest">Finished Work Example</span>
                    </div>
                    <img src="https://image2url.com/r2/default/files/1770010400775-c30f86ef-80b1-4097-a0fd-e77c5264a57f.jpeg" 
                         alt="‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß" 
                         class="w-full h-auto rounded-2xl shadow-inner object-cover max-h-[400px]"
                         onerror="this.src='https://via.placeholder.com/800x400?text=Finished+Work+Showcase'">
                </div>
            </div>

            <div class="bg-gradient-to-br from-blue-600 to-indigo-700 p-6 rounded-3xl shadow-lg text-white">
                <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                    <span class="bg-white text-blue-600 w-6 h-6 rounded-full flex items-center justify-center text-xs">!</span>
                    ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏â‡∏î‡∏™‡∏µ‡∏™‡πÄ‡∏õ‡∏£‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏ã‡∏∑‡πâ‡∏≠
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="bg-white/10 p-4 rounded-2xl backdrop-blur-sm border border-white/20">
                        <p class="font-bold mb-2 border-b border-white/20 pb-1">‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å (Primary Colors)</p>
                        <ul class="space-y-2 opacity-90">
                            <li>‚Ä¢ ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏™‡∏î (Yellow) - <span class="font-mono bg-black/20 px-1 rounded">Leyland L-2</span></li>
                            <li>‚Ä¢ ‡∏™‡∏µ‡∏™‡πâ‡∏° (Orange) - <span class="font-mono bg-black/20 px-1 rounded">Leyland L-19</span></li>
                            <li>‚Ä¢ ‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏™‡∏î (Magenta) - <span class="font-mono bg-black/20 px-1 rounded">Leyland L-17</span></li>
                            <li>‚Ä¢ ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Ç‡πâ‡∏° (Deep Purple) - <span class="font-mono bg-black/20 px-1 rounded">Leyland P-1</span></li>
                        </ul>
                    </div>
                    <div class="bg-white/10 p-4 rounded-2xl backdrop-blur-sm border border-white/20">
                        <p class="font-bold mb-2 border-b border-white/20 pb-1">‡∏™‡∏µ‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡∏ú‡∏¥‡∏ß</p>
                        <ul class="space-y-2 opacity-90">
                            <li>‚Ä¢ ‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß (Undercoat White) - <span class="font-mono bg-black/20 px-1 rounded">Leyland #40</span></li>
                            <li>‚Ä¢ ‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏ó‡∏≤ (Primer Grey) - <span class="font-mono bg-black/20 px-1 rounded">Leyland #70</span></li>
                            <li>‚Ä¢ ‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÄ‡∏á‡∏≤ (Clear Gloss) - <span class="font-mono bg-black/20 px-1 rounded">Leyland C-75</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab: Spray Technique Guide -->
        <div id="guide" class="tab-content space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Preparation -->
                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="w-1.5 h-6 bg-blue-500 rounded-full"></span>
                        1. ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß
                    </h3>
                    <ul class="space-y-3 text-xs text-slate-600">
                        <li class="flex gap-2"><span>1.</span> <span><strong>‡∏Ç‡∏±‡∏î‡∏ú‡∏¥‡∏ß‡∏á‡∏≤‡∏ô:</strong> ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏£‡∏≤‡∏¢‡πÄ‡∏ö‡∏≠‡∏£‡πå 600-800 ‡∏Ç‡∏±‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö</span></li>
                        <li class="flex gap-2"><span>2.</span> <span><strong>‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏ó‡∏≤ (#70):</strong> ‡∏û‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏∂‡∏î‡πÄ‡∏Å‡∏≤‡∏∞</span></li>
                        <li class="flex gap-2 text-red-600 font-bold"><span>3.</span> <span><strong>‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß (#40):</strong> ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î! ‡∏û‡πà‡∏ô‡∏Ç‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡∏ä‡∏°‡∏û‡∏π‡∏™‡∏î‡πÉ‡∏™</span></li>
                    </ul>
                </div>

                <!-- Gradient Rules -->
                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                    <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="w-1.5 h-6 bg-orange-500 rounded-full"></span>
                        2. ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÑ‡∏•‡πà‡πÄ‡∏â‡∏î
                    </h3>
                    <div class="space-y-4">
                        <div class="p-3 bg-slate-50 rounded-2xl">
                            <p class="text-[10px] font-bold text-slate-400 uppercase mb-1">‡∏Å‡∏é 50/50</p>
                            <p class="text-xs text-slate-600">‡∏û‡πà‡∏ô‡∏™‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ö‡∏£‡∏≠‡∏¢‡∏ï‡πà‡∏≠‡∏™‡∏µ‡πÄ‡∏î‡∏¥‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 50% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏°‡πá‡∏î‡∏™‡∏µ‡∏ú‡∏™‡∏°‡∏Å‡∏±‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á</p>
                        </div>
                        <div class="p-3 bg-slate-50 rounded-2xl">
                            <p class="text-[10px] font-bold text-slate-400 uppercase mb-1">‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡πÇ‡∏õ‡∏£‡∏¢ (Dusting)</p>
                            <p class="text-xs text-slate-600">‡∏ñ‡∏≠‡∏¢‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô 30-40 ‡∏ã‡∏°. ‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏∞‡∏ö‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏≠‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏£‡πá‡∏ß‡πÜ</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Steps -->
            <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
                <h3 class="font-bold text-slate-800 mb-6 text-center underline decoration-blue-500 underline-offset-8">‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Step-by-Step)</h3>
                <div class="space-y-4 max-w-2xl mx-auto">
                    <div class="flex gap-4 items-start">
                        <div class="w-8 h-8 rounded-full bg-yellow-400 flex-shrink-0 flex items-center justify-center font-bold text-white shadow-md">1</div>
                        <div>
                            <p class="font-bold text-sm">‡∏•‡∏á‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏ß‡πà‡∏≤‡∏á (Yellow)</p>
                            <p class="text-[11px] text-slate-500">‡∏û‡πà‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏±‡πà‡∏ß‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ï‡∏±‡∏ß @ ‡πÅ‡∏•‡∏∞ ‡∏ï‡∏±‡∏ß ‡πÄ ‡∏û‡πà‡∏ô‡πÇ‡∏õ‡∏£‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start">
                        <div class="w-8 h-8 rounded-full bg-orange-500 flex-shrink-0 flex items-center justify-center font-bold text-white shadow-md">2</div>
                        <div>
                            <p class="font-bold text-sm">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏™‡πâ‡∏° (Orange)</p>
                            <p class="text-[11px] text-slate-500">‡∏û‡πà‡∏ô‡∏™‡πâ‡∏°‡∏ñ‡∏±‡∏î‡∏°‡∏≤ ‡πÇ‡∏î‡∏¢‡∏û‡πà‡∏ô‡πÇ‡∏õ‡∏£‡∏¢‡∏ó‡∏±‡∏ö‡∏Ç‡∏≠‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ö‡∏≤‡∏á‡πÜ ‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏™‡∏µ‡∏™‡πâ‡∏°‡∏≠‡∏°‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start">
                        <div class="w-8 h-8 rounded-full bg-pink-500 flex-shrink-0 flex items-center justify-center font-bold text-white shadow-md">3</div>
                        <div>
                            <p class="font-bold text-sm">‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏≤‡∏á (Red & Pink)</p>
                            <p class="text-[11px] text-slate-500">‡∏•‡∏á‡πÅ‡∏î‡∏á‡∏ï‡πà‡∏≠‡∏™‡πâ‡∏° ‡πÅ‡∏•‡∏∞‡∏ä‡∏°‡∏û‡∏π‡∏ï‡πà‡∏≠‡πÅ‡∏î‡∏á ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡∏´‡πà‡∏≤‡∏á‡πÜ ‡∏ï‡∏£‡∏á‡∏£‡∏≠‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô</p>
                        </div>
                    </div>
                    <div class="flex gap-4 items-start">
                        <div class="w-8 h-8 rounded-full bg-purple-700 flex-shrink-0 flex items-center justify-center font-bold text-white shadow-md">4</div>
                        <div>
                            <p class="font-bold text-sm">‡∏à‡∏∏‡∏î‡∏à‡∏ö‡∏á‡∏≤‡∏ô (Purple)</p>
                            <p class="text-[11px] text-slate-500">‡∏û‡πà‡∏ô‡∏°‡πà‡∏ß‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏à‡∏≤‡∏Å‡∏õ‡∏•‡∏≤‡∏¢‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏±‡∏ö‡∏ä‡∏°‡∏û‡∏π ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡πà‡∏ß‡∏á‡∏Å‡∏•‡∏ö‡∏ä‡∏°‡∏û‡∏π‡∏à‡∏ô‡∏°‡∏¥‡∏î</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Final Tip -->
            <div class="bg-slate-800 p-6 rounded-3xl shadow-lg text-white text-center">
                <p class="text-xs italic opacity-80 mb-2">"‡∏à‡∏ö‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÄ‡∏á‡∏≤ (Clear Gloss) ‡πÄ‡∏™‡∏°‡∏≠"</p>
                <p class="text-[10px] leading-relaxed">‡πÅ‡∏•‡∏Ñ‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ (Melting Effect) ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏â‡∏î‡∏™‡∏µ‡∏î‡∏π‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô</p>
            </div>
        </div>

        <!-- Tab: Tables (Filtered to 17 letters) -->
        <div id="y-group" class="tab-content">
            <div class="bg-white rounded-3xl shadow-sm overflow-x-auto">
                <table class="w-full text-left text-sm min-w-[600px]">
                    <thead class="bg-slate-50 text-[10px] uppercase text-slate-400">
                        <tr><th class="p-4 w-20">‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</th><th class="p-4 w-16">‡∏™‡∏µ</th><th class="p-4 w-48">‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</th><th class="p-4">‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏´‡∏≤‡∏Å‡∏™‡∏µ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô</th></tr>
                    </thead>
                    <tbody id="y-group-body"></tbody>
                </table>
            </div>
        </div>

        <div id="r-group" class="tab-content">
            <div class="bg-white rounded-3xl shadow-sm overflow-x-auto">
                <table class="w-full text-left text-sm min-w-[600px]">
                    <thead class="bg-slate-50 text-[10px] uppercase text-slate-400">
                        <tr><th class="p-4 w-20">‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</th><th class="p-4 w-16">‡∏™‡∏µ</th><th class="p-4 w-48">‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</th><th class="p-4">‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏´‡∏≤‡∏Å‡∏™‡∏µ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô</th></tr>
                    </thead>
                    <tbody id="r-group-body"></tbody>
                </table>
            </div>
        </div>

        <div id="p-group" class="tab-content">
            <div class="bg-white rounded-3xl shadow-sm overflow-x-auto">
                <table class="w-full text-left text-sm min-w-[600px]">
                    <thead class="bg-slate-50 text-[10px] uppercase text-slate-400">
                        <tr><th class="p-4 w-20">‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</th><th class="p-4 w-16">‡∏™‡∏µ</th><th class="p-4 w-48">‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</th><th class="p-4">‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏´‡∏≤‡∏Å‡∏™‡∏µ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô</th></tr>
                    </thead>
                    <tbody id="p-group-body"></tbody>
                </table>
            </div>
        </div>

        <!-- Tab: Scanner -->
        <div id="scanner" class="tab-content text-center space-y-6">
            <div id="camera-error-msg" class="hidden bg-red-50 text-red-600 p-4 rounded-2xl text-xs font-bold border border-red-100">
                ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÉ‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò
            </div>
            <div id="camera-container">
                <video id="video-feed" autoplay playsinline muted></video>
                <div id="reticle"></div>
                <canvas id="scan-canvas" class="hidden"></canvas>
            </div>
            <div class="max-w-md mx-auto grid grid-cols-2 gap-3 px-4">
                <div class="bg-white p-4 rounded-3xl shadow-sm border border-slate-100">
                    <p class="text-[9px] uppercase text-slate-400 mb-2 font-bold tracking-widest">‡∏™‡∏µ‡∏ó‡∏µ‡πà‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô</p>
                    <div id="scanned-swatch" class="w-full h-16 rounded-2xl bg-slate-200 mb-2 border-4 border-slate-50"></div>
                    <p id="scanned-hex" class="font-mono text-[11px] font-bold text-slate-600">#------</p>
                </div>
                <div class="bg-white p-4 rounded-3xl shadow-sm border border-slate-100">
                    <p class="text-[9px] uppercase text-slate-400 mb-2 font-bold tracking-widest">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏µ‡∏ô‡∏µ‡πâ</p>
                    <div id="target-swatch" class="w-full h-16 rounded-2xl bg-slate-200 mb-2 border-4 border-slate-50"></div>
                    <p id="match-info" class="text-xs font-bold text-blue-600">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡πÅ‡∏Å‡∏ô...</p>
                </div>
            </div>
            <div class="max-w-md mx-auto bg-white p-5 rounded-3xl shadow-sm border border-slate-100 mx-4">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-[10px] font-bold uppercase text-slate-400">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</span>
                    <span id="accuracy-score" class="text-xl font-bold text-blue-600">0%</span>
                </div>
                <div class="w-full bg-slate-100 h-3 rounded-full overflow-hidden">
                    <div id="accuracy-bar" class="bg-blue-600 h-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
            <button onclick="stopScanner()" class="bg-slate-800 text-white px-10 py-4 rounded-2xl font-bold text-sm shadow-lg active:scale-95 transition-all">‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>
        </div>

        <!-- Footer -->
        <footer class="mt-12 text-center text-slate-300 text-[10px] tracking-widest font-light pb-10 uppercase">
            Amnat Charoen Technical College | Arts & Design Division
        </footer>
    </div>

    <script>
        const sprayPalette = [
            { char: '@', hex: '#FFD54F', code: 'Y-4 Lemon Yellow', fix: '‡∏ñ‡πâ‡∏≤‡∏à‡∏∑‡∏î‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡∏≠‡∏±‡∏î‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 3', cat: 'y-group' },
            { char: '‡πÄ', hex: '#FFC107', code: 'Y-2 Amber Yellow', fix: '‡∏û‡πà‡∏ô‡πÇ‡∏õ‡∏£‡∏¢‡∏™‡πâ‡∏°‡∏ö‡∏≤‡∏á‡πÜ ‡∏ó‡∏±‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡πÇ‡∏ó‡∏ô‡∏≠‡∏∏‡πà‡∏ô', cat: 'y-group' },
            { char: '‡∏ó', hex: '#FFB300', code: 'Y-1 Golden Yellow', fix: '‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å‡∏ó‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡πÄ‡∏Ñ‡∏•‡∏∑‡∏≠‡∏ö‡πÄ‡∏á‡∏≤‡∏ó‡∏±‡∏ö‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏î‡πâ', cat: 'y-group' },
            { char: '‡∏Ñ', hex: '#FFA000', code: 'O-2 Dark Yellow', fix: '‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏™‡πâ‡∏°‡πÇ‡∏î‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏±‡∏ö‡∏Ç‡∏≠‡∏ö', cat: 'y-group' },
            { char: '‡∏ô', hex: '#FB8C00', code: 'O-1 Bright Orange', fix: '‡∏û‡πà‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á 30 ‡∏ã‡∏°. ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏™‡∏µ‡πÄ‡∏Ç‡πâ‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏∏‡∏Å', cat: 'y-group' },
            { char: '‡∏¥', hex: '#EF6C00', code: 'O-3 Chrome Orange', fix: '‡∏ñ‡πâ‡∏≤‡∏î‡∏π‡πÑ‡∏´‡∏°‡πâ ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏≠‡∏á‡∏ó‡∏±‡∏ö‡∏ö‡∏≤‡∏á‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á', cat: 'y-group' },
            { char: '‡∏Ñ', hex: '#F4511E', code: 'R-3 Deep Orange', fix: '‡∏û‡πà‡∏ô‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏°‡∏µ‡∏°‡∏¥‡∏ï‡∏¥', cat: 'y-group' },
            { char: '‡∏≠', hex: '#FF7043', code: 'R-2 Coral Red', fix: '‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏î‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πâ‡∏°‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡πà‡∏ô‡πÇ‡∏õ‡∏£‡∏¢‡∏™‡∏•‡∏±‡∏ö', cat: 'r-group' },
            { char: '‡∏≥', hex: '#FF5252', code: 'R-1 Signal Red', fix: '‡∏ñ‡πâ‡∏≤‡∏î‡∏π‡∏ä‡∏°‡∏û‡∏π‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡∏≠‡∏±‡∏î‡πÅ‡∏î‡∏á‡∏™‡∏î‡∏ã‡πâ‡∏≥ 1 ‡∏£‡∏≠‡∏ö', cat: 'r-group' },
            { char: '‡∏ô', hex: '#EC407A', code: 'M-4 Candy Pink', fix: '‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß‡πÉ‡∏´‡πâ‡∏´‡∏ô‡∏≤ ‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏î‡πÑ‡∏°‡πà‡∏´‡∏°‡∏≠‡∏á', cat: 'r-group' },
            { char: '‡∏≤', hex: '#F06292', code: 'M-3 Light Pink', fix: '‡∏û‡πà‡∏ô‡∏ö‡∏≤‡∏á‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏Ç‡∏≤‡∏ß', cat: 'r-group' },
            { char: '‡∏à', hex: '#E91E63', code: 'M-2 Rose Magenta', fix: '‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏•‡πâ‡∏≥‡πÑ‡∏õ ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡∏ä‡∏°‡∏û‡∏π‡∏≠‡πà‡∏≠‡∏ô‡∏ó‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏µ', cat: 'r-group' },
            { char: '‡πÄ', hex: '#D81B60', code: 'M-1 Magenta Red', fix: '‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏Å‡∏±‡∏ö‡∏°‡πà‡∏ß‡∏á ‡πÉ‡∏´‡πâ‡∏û‡πà‡∏ô‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏õ‡∏£‡∏¢‡∏ó‡∏±‡∏ö', cat: 'r-group' },
            { char: '‡∏à', hex: '#9637D2', code: 'P-8 Pastel Purple', fix: '‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏™‡∏µ‡∏£‡∏≠‡∏á‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏ó‡∏≤‡∏Å‡∏ß‡∏ô‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏û‡πà‡∏ô‡∏Ç‡∏≤‡∏ß‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡∏°‡∏¥‡∏î', cat: 'p-group' },
            { char: '‡∏£', hex: '#802DBE', code: 'P-6 Bright Violet', fix: '‡∏û‡πà‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏µ‡∏î‡πà‡∏≤‡∏á', cat: 'p-group' },
            { char: '‡∏¥', hex: '#601EA0', code: 'P-3 Violet', fix: '‡∏û‡πà‡∏ô‡∏≠‡∏±‡∏î 2 ‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÇ‡∏ó‡∏ô‡∏°‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô', cat: 'p-group' },
            { char: '‡∏ç', hex: '#4A148C', code: 'P-1 Deep Purple', fix: '‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏û‡πà‡∏ô‡∏≠‡∏±‡∏î‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å 3 ‡∏£‡∏≠‡∏ö', cat: 'p-group' }
        ];

        function renderData() {
            ['y-group-body', 'r-group-body', 'p-group-body'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.innerHTML = "";
            });

            sprayPalette.forEach(item => {
                const row = `<tr class="border-b border-slate-50 last:border-0 hover:bg-slate-50">
                    <td class="p-4 font-bold text-lg">${item.char}</td>
                    <td class="p-4"><div class="swatch" style="background:${item.hex}"></div></td>
                    <td class="p-4"><div class="spray-badge">${item.code}</div></td>
                    <td class="p-4 text-[11px] text-slate-500 leading-relaxed"><span class="text-blue-500 font-bold block mb-1">üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:</span>${item.fix}</td>
                </tr>`;
                const container = document.getElementById(`${item.cat}-body`);
                if (container) container.innerHTML += row;
            });
        }

        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => {
                b.classList.remove('border-blue-500', 'bg-blue-50', 'ring-4', 'ring-blue-100');
            });
            const targetTab = document.getElementById(id);
            if (targetTab) targetTab.classList.add('active');
            const btn = Array.from(document.querySelectorAll('.nav-btn')).find(b => b.getAttribute('onclick') && b.getAttribute('onclick').includes(`'${id}'`));
            if (btn && id !== 'info') btn.classList.add('border-blue-500', 'bg-blue-50');
            if (id !== 'scanner') stopScanner();
        }

        let scannerActive = false;
        let stream = null;

        async function startScanner() {
            showTab('scanner');
            const video = document.getElementById('video-feed');
            const errorEl = document.getElementById('camera-error-msg');
            errorEl.classList.add('hidden');
            try { stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } }); }
            catch (e) { try { stream = await navigator.mediaDevices.getUserMedia({ video: true }); } catch (err) { errorEl.classList.remove('hidden'); return; } }
            if (stream) { video.srcObject = stream; scannerActive = true; requestAnimationFrame(scanLoop); }
        }

        function stopScanner() { if (stream) { stream.getTracks().forEach(t => t.stop()); stream = null; scannerActive = false; } }

        function scanLoop() {
            if (!scannerActive) return;
            const video = document.getElementById('video-feed');
            const canvas = document.getElementById('scan-canvas');
            const ctx = canvas.getContext('2d', { willReadFrequently: true });
            if (video.readyState === video.HAVE_ENOUGH_DATA) {
                canvas.width = 100; canvas.height = 100;
                const scanSize = 20;
                ctx.drawImage(video, video.videoWidth/2 - scanSize/2, video.videoHeight/2 - scanSize/2, scanSize, scanSize, 0, 0, 100, 100);
                const imageData = ctx.getImageData(0, 0, 100, 100).data;
                let r = 0, g = 0, b = 0;
                for (let i = 0; i < imageData.length; i += 4) { r += imageData[i]; g += imageData[i+1]; b += imageData[i+2]; }
                const avgR = Math.round(r / (imageData.length / 4));
                const avgG = Math.round(g / (imageData.length / 4));
                const avgB = Math.round(b / (imageData.length / 4));
                const hex = "#" + ((1 << 24) + (avgR << 16) + (avgG << 8) + avgB).toString(16).slice(1);
                document.getElementById('scanned-swatch').style.backgroundColor = hex;
                document.getElementById('scanned-hex').innerText = hex.toUpperCase();
                matchColor({ r: avgR, g: avgG, b: avgB });
            }
            requestAnimationFrame(scanLoop);
        }

        function getPerceptualDistance(rgb1, rgb2) {
            const rmean = (rgb1.r + rgb2.r) / 2;
            const r = rgb1.r - rgb2.r, g = rgb1.g - rgb2.g, b = rgb1.b - rgb2.b;
            return Math.sqrt((2 + rmean/256)*r*r + 4*g*g + (2 + (255-rmean)/256)*b*b);
        }

        function matchColor(rgb) {
            let minDistance = Infinity, bestMatch = null;
            sprayPalette.forEach(p => {
                const target = { r: parseInt(p.hex.slice(1,3), 16), g: parseInt(p.hex.slice(3,5), 16), b: parseInt(p.hex.slice(5,7), 16) };
                const distance = getPerceptualDistance(rgb, target);
                if (distance < minDistance) { minDistance = distance; bestMatch = p; }
            });
            if (bestMatch) {
                const accuracy = Math.max(0, 100 - (minDistance / 6)).toFixed(1);
                document.getElementById('target-swatch').style.backgroundColor = bestMatch.hex;
                document.getElementById('match-info').innerText = `‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ "${bestMatch.char}"`;
                document.getElementById('accuracy-score').innerText = `${accuracy}%`;
                document.getElementById('accuracy-bar').style.width = `${accuracy}%`;
            }
        }

        window.onload = function() { renderData(); showTab('info'); };
    </script>
</body>
</html>
